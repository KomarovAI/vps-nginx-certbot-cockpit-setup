# Marzban Custom Container Configuration v4.0 - Full Automation
# Enhanced for komarovai/marzban-custom:v4.0 with auto-admin and secrets integration

# =======================
# CORE DOMAIN & SSL
# =======================
DOMAIN_NAME=your-domain.com
ADMIN_EMAIL=your-email@example.com

# =======================
# MARZBAN PANEL CONFIG
# =======================
MARZBAN_PANEL_PORT=8000
MARZBAN_HOST=your-domain.com

# =======================
# AUTO-ADMIN SETUP (NEW!)
# =======================
# These will auto-create admin on first start or reset
MARZBAN_ADMIN_USERNAME=admin
MARZBAN_ADMIN_PASSWORD=your-super-secure-password-here

# Backward compatibility (use MARZBAN_ADMIN_* above instead)
# MARZBAN_USERNAME=admin
# MARZBAN_PASSWORD=your-password

# =======================
# XRAY CONFIGURATION
# =======================
XRAY_PORT=2083

# =======================
# XRAY REALITY SETTINGS
# =======================
# Generate with: xray x25519
# Private key for Reality protocol
XRAY_REALITY_PRIVATE_KEY=your-reality-private-key-here
# Public key (auto-generated from private)
# XRAY_REALITY_PUBLIC_KEY=auto-generated-public-key

# Short IDs for Reality (comma-separated, 2-16 chars each)
XRAY_REALITY_SHORT_IDS=ab,cd,ef,12

# Server names for SNI masking (comma-separated)
XRAY_REALITY_SERVER_NAMES=google.com,www.google.com,youtube.com

# =======================
# DATABASE CONFIG
# =======================
# Standard path for custom image
MARZBAN_DB_URL=sqlite:////var/lib/marzban/db.sqlite3

# =======================
# PROTOCOL SETTINGS
# =======================
MARZBAN_QUIC=true
XRAY_VLESS_REALITY=true
XRAY_GRPC_ENABLE=true
XRAY_JSON=/etc/xray/config.json

# =======================
# AUTOMATION FLAGS (NEW!)
# =======================
# Auto-initialize database on startup
AUTO_INIT_DB=true

# Auto-create admin from MARZBAN_ADMIN_* variables
AUTO_CREATE_ADMIN=true

# Force clean start (removes existing data)
# FORCE_CLEAN_START=false

# =======================
# COCKPIT & SYSTEM
# =======================
COCKPIT_PASSWORD=your-cockpit-password

# =======================
# VPS DETAILS (for automation)
# =======================
# VPS_IP=auto-detected
# VPS_HOST=your-vps-hostname
# VPS_USER=root

# =======================
# DNS & SSL (optional)
# =======================
# DNSEXIT_API_KEY=your-dnsexit-api-key

# =======================
# EXAMPLE FULL CONFIG
# =======================
# Uncomment and modify for your setup:
#
# DOMAIN_NAME=vpn.example.com
# ADMIN_EMAIL=admin@example.com
# MARZBAN_PANEL_PORT=8000
# MARZBAN_ADMIN_USERNAME=superadmin
# MARZBAN_ADMIN_PASSWORD=SuperSecure123!
# XRAY_PORT=2083
# XRAY_REALITY_PRIVATE_KEY=gM7dQJAw8bKlKrWJVX5rL9pN2nO3cQ8tR6uY1iE7fH4
# XRAY_REALITY_SHORT_IDS=ab,cd,ef,12,34
# XRAY_REALITY_SERVER_NAMES=google.com,www.google.com,youtube.com,www.youtube.com
# COCKPIT_PASSWORD=CockpitSecure456!

# =======================
# GITHUB SECRETS MAPPING
# =======================
# When using with GitHub Actions, map these secrets:
# ADMIN_EMAIL → ADMIN_EMAIL
# COCKPIT_PASSWORD → COCKPIT_PASSWORD
# DOMAIN_NAME → DOMAIN_NAME or MARZBAN_DOMAIN
# MARZBAN_ADMIN_USERNAME → MARZBAN_ADMIN_USERNAME
# MARZBAN_ADMIN_PASSWORD → MARZBAN_ADMIN_PASSWORD
# MARZBAN_USERNAME → MARZBAN_USERNAME (fallback)
# MARZBAN_PASSWORD → MARZBAN_PASSWORD (fallback)
# XRAY_PORT → XRAY_PORT
# XRAY_REALITY_PRIVATE_KEY → XRAY_REALITY_PRIVATE_KEY
# XRAY_REALITY_SHORT_IDS → XRAY_REALITY_SHORT_IDS
# XRAY_REALITY_SERVER_NAMES → XRAY_REALITY_SERVER_NAMES
# VPS_HOST → VPS_HOST
# VPS_IP → VPS_IP
# VPS_USER → VPS_USER
# DNSEXIT_API_KEY → DNSEXIT_API_KEY